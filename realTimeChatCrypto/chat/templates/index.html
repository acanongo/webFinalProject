{% extends "base.html" %}


{% block titleBlock %} {{ title }} {% endblock %}

{% block infoBlock %}


    <p> Enter the chat room name </p><br>
    <input id="room-name-input" type="text" size="100" ><br>
    <input id="room-name-submit" type="button" value="Enter">

    <!-- need to know the user name for the real time chat system, thus to keep
         track of it by using an input tag and set type to be hidden. The id will
         be use to retrieve it
    -->
    <input type="hidden" id = "username-input" value = '{{ user.username }}'>

    <script>


        document.querySelector('#room-name-input').onkeyup = function(e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();


            }
        };

        document.querySelector('#room-name-submit').onclick = function(e) {
            var roomName = document.querySelector('#room-name-input').value;
            var userName = document.getElementById("username-input").value;

            console.log("the user name is " +userName);

           // window.location.pathname = '/chat/' + roomName + '/';

            //create a new path that consist of the room name and user name
            window.location.pathname = '/chat/' + roomName + '/' + userName + '/';
        };
    </script>
{% endblock %}